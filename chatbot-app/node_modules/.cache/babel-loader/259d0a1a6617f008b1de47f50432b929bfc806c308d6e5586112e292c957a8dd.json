{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{Menu,Transition}from'@headlessui/react';import{UserCircleIcon,ArrowRightOnRectangleIcon,KeyIcon}from'@heroicons/react/24/outline';import{ChatBubbleLeftRightIcon}from'@heroicons/react/24/solid';import{useAuth}from'../hooks/useAuth';import{useOpenAI}from'../hooks/useOpenAI';import ThemeToggle from'./ThemeToggle';import OpenAISettings from'./OpenAISettings';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const{isAuthenticated,user,logout}=useAuth();const{apiKey,isValidKey}=useOpenAI();const[showApiSettings,setShowApiSettings]=useState(false);const navigate=useNavigate();const handleLogout=()=>{logout();navigate('/login');};return/*#__PURE__*/_jsxs(\"header\",{className:\"bg-white shadow-sm dark:bg-dark-700 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold text-xl\",children:[/*#__PURE__*/_jsx(ChatBubbleLeftRightIcon,{className:\"h-6 w-6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"AI ChatBot\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(ThemeToggle,{}),isAuthenticated&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowApiSettings(true),className:`p-1.5 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-dark-800 ${isValidKey?'text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30':'text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-600'}`,\"aria-label\":\"OpenAI API Settings\",children:/*#__PURE__*/_jsx(KeyIcon,{className:\"h-5 w-5\"})}),isAuthenticated&&user?/*#__PURE__*/_jsxs(Menu,{as:\"div\",className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Menu.Button,{className:\"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-dark-800 p-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Open user menu\"}),/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-8 w-8 text-gray-500 dark:text-gray-400\"})]})}),/*#__PURE__*/_jsx(Transition,{enter:\"transition ease-out duration-100\",enterFrom:\"transform opacity-0 scale-95\",enterTo:\"transform opacity-100 scale-100\",leave:\"transition ease-in duration-75\",leaveFrom:\"transform opacity-100 scale-100\",leaveTo:\"transform opacity-0 scale-95\",children:/*#__PURE__*/_jsxs(Menu.Items,{className:\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-dark-700 dark:ring-dark-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 border-b border-gray-100 dark:border-dark-600\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700 dark:text-gray-200\",children:user.username}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 truncate\",children:user.email})]}),/*#__PURE__*/_jsx(Menu.Item,{children:_ref=>{let{active}=_ref;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowApiSettings(true),className:`${active?'bg-gray-100 dark:bg-dark-600':''} w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 flex items-center`,children:[/*#__PURE__*/_jsx(KeyIcon,{className:\"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400\"}),\"API Settings\"]});}}),/*#__PURE__*/_jsx(Menu.Item,{children:_ref2=>{let{active}=_ref2;return/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:`${active?'bg-gray-100 dark:bg-dark-600':''} w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 flex items-center`,children:[/*#__PURE__*/_jsx(ArrowRightOnRectangleIcon,{className:\"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400\"}),\"Sign out\"]});}})]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-outline\",children:\"Sign in\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary btn-dark\",children:\"Sign up\"})]})]})]})}),showApiSettings&&/*#__PURE__*/_jsx(OpenAISettings,{onClose:()=>setShowApiSettings(false)})]});};export default Header;","map":{"version":3,"names":["React","useState","Link","useNavigate","Menu","Transition","UserCircleIcon","ArrowRightOnRectangleIcon","KeyIcon","ChatBubbleLeftRightIcon","useAuth","useOpenAI","ThemeToggle","OpenAISettings","jsx","_jsx","jsxs","_jsxs","Header","isAuthenticated","user","logout","apiKey","isValidKey","showApiSettings","setShowApiSettings","navigate","handleLogout","className","children","to","onClick","as","Button","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Items","username","email","Item","_ref","active","_ref2","onClose"],"sources":["C:/Users/alamk/OneDrive/Desktop/Chatbot/chatbot-app/src/components/Header.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Menu, Transition } from '@headlessui/react';\r\nimport { UserCircleIcon, ArrowRightOnRectangleIcon, Cog6ToothIcon, KeyIcon } from '@heroicons/react/24/outline';\r\nimport { ChatBubbleLeftRightIcon } from '@heroicons/react/24/solid';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { useOpenAI } from '../hooks/useOpenAI';\r\nimport ThemeToggle from './ThemeToggle';\r\nimport OpenAISettings from './OpenAISettings';\r\n\r\nconst Header: React.FC = () => {\r\n  const { isAuthenticated, user, logout } = useAuth();\r\n  const { apiKey, isValidKey } = useOpenAI();\r\n  const [showApiSettings, setShowApiSettings] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-white shadow-sm dark:bg-dark-700 transition-colors duration-200\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between h-16 items-center\">\r\n          <div className=\"flex items-center\">\r\n            <Link to=\"/\" className=\"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold text-xl\">\r\n              <ChatBubbleLeftRightIcon className=\"h-6 w-6\" />\r\n              <span>AI ChatBot</span>\r\n            </Link>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <ThemeToggle />\r\n            \r\n            {isAuthenticated && (\r\n              <button\r\n                onClick={() => setShowApiSettings(true)}\r\n                className={`p-1.5 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-dark-800 ${\r\n                  isValidKey \r\n                    ? 'text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30' \r\n                    : 'text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-dark-600'\r\n                }`}\r\n                aria-label=\"OpenAI API Settings\"\r\n              >\r\n                <KeyIcon className=\"h-5 w-5\" />\r\n              </button>\r\n            )}\r\n            \r\n            {isAuthenticated && user ? (\r\n              <Menu as=\"div\" className=\"relative\">\r\n                <div>\r\n                  <Menu.Button className=\"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-dark-800 p-1\">\r\n                    <span className=\"sr-only\">Open user menu</span>\r\n                    <UserCircleIcon className=\"h-8 w-8 text-gray-500 dark:text-gray-400\" />\r\n                  </Menu.Button>\r\n                </div>\r\n                <Transition\r\n                  enter=\"transition ease-out duration-100\"\r\n                  enterFrom=\"transform opacity-0 scale-95\"\r\n                  enterTo=\"transform opacity-100 scale-100\"\r\n                  leave=\"transition ease-in duration-75\"\r\n                  leaveFrom=\"transform opacity-100 scale-100\"\r\n                  leaveTo=\"transform opacity-0 scale-95\"\r\n                >\r\n                  <Menu.Items className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-dark-700 dark:ring-dark-500\">\r\n                    <div className=\"px-4 py-2 border-b border-gray-100 dark:border-dark-600\">\r\n                      <p className=\"text-sm font-medium text-gray-700 dark:text-gray-200\">{user.username}</p>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">{user.email}</p>\r\n                    </div>\r\n                    <Menu.Item>\r\n                      {({ active }) => (\r\n                        <button\r\n                          onClick={() => setShowApiSettings(true)}\r\n                          className={`${\r\n                            active ? 'bg-gray-100 dark:bg-dark-600' : ''\r\n                          } w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 flex items-center`}\r\n                        >\r\n                          <KeyIcon className=\"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400\" />\r\n                          API Settings\r\n                        </button>\r\n                      )}\r\n                    </Menu.Item>\r\n                    <Menu.Item>\r\n                      {({ active }) => (\r\n                        <button\r\n                          onClick={handleLogout}\r\n                          className={`${\r\n                            active ? 'bg-gray-100 dark:bg-dark-600' : ''\r\n                          } w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 flex items-center`}\r\n                        >\r\n                          <ArrowRightOnRectangleIcon className=\"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400\" />\r\n                          Sign out\r\n                        </button>\r\n                      )}\r\n                    </Menu.Item>\r\n                  </Menu.Items>\r\n                </Transition>\r\n              </Menu>\r\n            ) : (\r\n              <div className=\"space-x-4\">\r\n                <Link to=\"/login\" className=\"btn btn-outline\">\r\n                  Sign in\r\n                </Link>\r\n                <Link to=\"/register\" className=\"btn btn-primary btn-dark\">\r\n                  Sign up\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {showApiSettings && <OpenAISettings onClose={() => setShowApiSettings(false)} />}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}