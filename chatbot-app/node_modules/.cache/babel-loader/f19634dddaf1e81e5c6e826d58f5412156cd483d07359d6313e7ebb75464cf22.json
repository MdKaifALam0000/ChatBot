{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import Header from'../components/Header';import ErrorAlert from'../components/ErrorAlert';import LoadingSpinner from'../components/LoadingSpinner';import DemoInstructions from'../components/DemoInstructions';import{useAuth}from'../hooks/useAuth';import{ChatBubbleLeftRightIcon}from'@heroicons/react/24/solid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:'',password:''});const[errorMessage,setErrorMessage]=useState(null);const[isSubmitting,setIsSubmitting]=useState(false);const[showInstructions,setShowInstructions]=useState(false);const{login,isAuthenticated,error,loading}=useAuth();const navigate=useNavigate();// Show demo instructions on first load\nuseEffect(()=>{setShowInstructions(true);},[]);// Fill demo credentials when instructions are closed\nconst handleCloseInstructions=()=>{setShowInstructions(false);setFormData({email:'demo@example.com',password:'password123'});};useEffect(()=>{if(isAuthenticated){navigate('/chat');}},[isAuthenticated,navigate]);useEffect(()=>{if(error){setErrorMessage(error);setIsSubmitting(false);}},[error]);const{email,password}=formData;const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});setErrorMessage(null);};const handleSubmit=async e=>{e.preventDefault();setIsSubmitting(true);try{await login(email,password);}catch(error){console.error('Login error:',error);setIsSubmitting(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-dark-800 transition-colors duration-200\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-dark-800 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center px-6 py-12 mx-auto lg:py-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(ChatBubbleLeftRightIcon,{className:\"h-8 w-8 text-primary-500 dark:text-primary-400\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 dark:text-white text-center\",children:\"Welcome to AI ChatBot\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-gray-600 dark:text-gray-300\",children:\"Your intelligent AI assistant\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-white dark:bg-dark-700 rounded-lg shadow-xl dark:shadow-md sm:max-w-md transition-all duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 md:space-y-6 sm:p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white\",children:\"Sign in to your account\"}),errorMessage&&/*#__PURE__*/_jsx(ErrorAlert,{message:errorMessage,onDismiss:()=>setErrorMessage(null)}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4 md:space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-200\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",className:\"input\",placeholder:\"name@example.com\",value:email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-200\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"input\",value:password,onChange:handleChange,required:true,minLength:6})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full btn btn-primary btn-dark flex justify-center\",disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\",className:\"py-1\"}):'Sign in'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowInstructions(true),className:\"text-sm text-primary-600 dark:text-primary-400 hover:underline\",children:\"View Demo Instructions\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-sm text-primary-600 dark:text-primary-400 hover:underline\",children:\"Create an account\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 text-center text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"For demo purposes, use:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-mono mt-1\",children:\"demo@example.com / password123\"})]})]}),showInstructions&&/*#__PURE__*/_jsx(DemoInstructions,{onClose:handleCloseInstructions})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Header","ErrorAlert","LoadingSpinner","DemoInstructions","useAuth","ChatBubbleLeftRightIcon","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","errorMessage","setErrorMessage","isSubmitting","setIsSubmitting","showInstructions","setShowInstructions","login","isAuthenticated","error","loading","navigate","handleCloseInstructions","handleChange","e","target","name","value","handleSubmit","preventDefault","console","className","children","size","message","onDismiss","onSubmit","htmlFor","type","id","placeholder","onChange","required","minLength","disabled","onClick","to","onClose"],"sources":["C:/Users/alamk/OneDrive/Desktop/Chatbot/chatbot-app/src/pages/Login.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport ErrorAlert from '../components/ErrorAlert';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport DemoInstructions from '../components/DemoInstructions';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { ChatBubbleLeftRightIcon } from '@heroicons/react/24/solid';\r\n\r\nconst Login: React.FC = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showInstructions, setShowInstructions] = useState(false);\r\n  const { login, isAuthenticated, error, loading } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // Show demo instructions on first load\r\n  useEffect(() => {\r\n    setShowInstructions(true);\r\n  }, []);\r\n\r\n  // Fill demo credentials when instructions are closed\r\n  const handleCloseInstructions = () => {\r\n    setShowInstructions(false);\r\n    setFormData({\r\n      email: 'demo@example.com',\r\n      password: 'password123',\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/chat');\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setErrorMessage(error);\r\n      setIsSubmitting(false);\r\n    }\r\n  }, [error]);\r\n\r\n  const { email, password } = formData;\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    setErrorMessage(null);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    try {\r\n      await login(email, password);\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-dark-800 transition-colors duration-200\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-dark-800 transition-colors duration-200\">\r\n      <Header />\r\n      \r\n      <div className=\"flex flex-col items-center justify-center px-6 py-12 mx-auto lg:py-16\">\r\n        <div className=\"flex flex-col items-center mb-8\">\r\n          <div className=\"w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mb-4\">\r\n            <ChatBubbleLeftRightIcon className=\"h-8 w-8 text-primary-500 dark:text-primary-400\" />\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white text-center\">Welcome to AI ChatBot</h1>\r\n          <p className=\"mt-2 text-center text-gray-600 dark:text-gray-300\">\r\n            Your intelligent AI assistant\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"w-full bg-white dark:bg-dark-700 rounded-lg shadow-xl dark:shadow-md sm:max-w-md transition-all duration-200\">\r\n          <div className=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\r\n            <h2 className=\"text-xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white\">\r\n              Sign in to your account\r\n            </h2>\r\n            \r\n            {errorMessage && (\r\n              <ErrorAlert \r\n                message={errorMessage} \r\n                onDismiss={() => setErrorMessage(null)} \r\n              />\r\n            )}\r\n            \r\n            <form className=\"space-y-4 md:space-y-6\" onSubmit={handleSubmit}>\r\n              <div>\r\n                <label htmlFor=\"email\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-200\">\r\n                  Email\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  className=\"input\"\r\n                  placeholder=\"name@example.com\"\r\n                  value={email}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"password\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-200\">\r\n                  Password\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  placeholder=\"••••••••\"\r\n                  className=\"input\"\r\n                  value={password}\r\n                  onChange={handleChange}\r\n                  required\r\n                  minLength={6}\r\n                />\r\n              </div>\r\n              \r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full btn btn-primary btn-dark flex justify-center\"\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? (\r\n                  <LoadingSpinner size=\"sm\" className=\"py-1\" />\r\n                ) : (\r\n                  'Sign in'\r\n                )}\r\n              </button>\r\n              \r\n              <div className=\"flex items-center justify-between\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowInstructions(true)}\r\n                  className=\"text-sm text-primary-600 dark:text-primary-400 hover:underline\"\r\n                >\r\n                  View Demo Instructions\r\n                </button>\r\n                <Link to=\"/register\" className=\"text-sm text-primary-600 dark:text-primary-400 hover:underline\">\r\n                  Create an account\r\n                </Link>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"mt-8 text-center text-sm text-gray-500 dark:text-gray-400\">\r\n          <p>For demo purposes, use:</p>\r\n          <p className=\"font-mono mt-1\">demo@example.com / password123</p>\r\n        </div>\r\n      </div>\r\n      \r\n      {showInstructions && <DemoInstructions onClose={handleCloseInstructions} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}