{"ast":null,"code":"import React,{useState}from'react';import{ClipboardDocumentIcon,CheckIcon,UserIcon}from'@heroicons/react/24/outline';import{ChatBubbleBottomCenterTextIcon}from'@heroicons/react/24/solid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Message=_ref=>{let{content,timestamp,isUser}=_ref;const[copied,setCopied]=useState(false);const messageTime=new Date(timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});// Format message content with Markdown-like syntax\nconst formatContent=text=>{// Process code blocks (```code```)\ntext=text.replace(/```([\\s\\S]*?)```/g,'<pre class=\"bg-gray-100 dark:bg-dark-600 p-3 rounded-md overflow-x-auto text-sm font-mono my-2 border border-gray-200 dark:border-dark-500\">$1</pre>');// Process inline code (`code`)\ntext=text.replace(/`([^`]+)`/g,'<code class=\"bg-gray-100 dark:bg-dark-600 px-1 rounded font-mono text-sm border-b border-gray-200 dark:border-dark-500\">$1</code>');// Process bold (**text**)\ntext=text.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>');// Process italic (*text*)\ntext=text.replace(/\\*(.*?)\\*/g,'<em>$1</em>');// Process URLs\ntext=text.replace(/(https?:\\/\\/[^\\s]+)/g,'<a href=\"$1\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-primary-600 dark:text-primary-400 hover:underline\">$1</a>');// Process paragraphs\ntext=text.split('\\n\\n').map(para=>`<p class=\"mb-2\">${para}</p>`).join('');// Process lists\ntext=text.replace(/^- (.*)/gm,'<li class=\"mb-1\">$1</li>');text=text.replace(/<li[^>]*>.*?<\\/li>/g,match=>`<ul class=\"list-disc list-inside my-2 space-y-1\">${match}</ul>`);return text;};const handleCopy=()=>{navigator.clipboard.writeText(content);setCopied(true);setTimeout(()=>setCopied(false),2000);};return/*#__PURE__*/_jsxs(\"div\",{className:`flex ${isUser?'justify-end':'justify-start'} mb-6 group animate-fadeIn`,children:[!isUser&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mr-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center shadow-md\",children:/*#__PURE__*/_jsx(ChatBubbleBottomCenterTextIcon,{className:\"h-5 w-5 text-white\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:`relative rounded-2xl px-5 py-4 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg ${isUser?'bg-gradient-to-r from-secondary-500 to-secondary-600 text-white shadow-lg':'bg-white dark:bg-dark-800 border border-gray-100 dark:border-dark-700 shadow-lg dark:shadow-dark-900/20'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:`prose prose-sm max-w-none ${isUser?'prose-invert':'dark:prose-invert'}`,dangerouslySetInnerHTML:{__html:formatContent(content)}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2 text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:`${isUser?'text-secondary-200':'text-gray-500 dark:text-gray-400'}`,children:messageTime}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,className:\"opacity-0 group-hover:opacity-100 transition-opacity p-1.5 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20\",\"aria-label\":\"Copy message\",children:copied?/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 text-green-400\"}):/*#__PURE__*/_jsx(ClipboardDocumentIcon,{className:\"h-4 w-4 text-white/70\"})})]})]}),isUser&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 ml-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-gradient-to-br from-secondary-400 to-secondary-600 flex items-center justify-center shadow-md\",children:/*#__PURE__*/_jsx(UserIcon,{className:\"h-5 w-5 text-white\"})})})]});};export default Message;","map":{"version":3,"names":["React","useState","ClipboardDocumentIcon","CheckIcon","UserIcon","ChatBubbleBottomCenterTextIcon","jsx","_jsx","jsxs","_jsxs","Message","_ref","content","timestamp","isUser","copied","setCopied","messageTime","Date","toLocaleTimeString","hour","minute","formatContent","text","replace","split","map","para","join","match","handleCopy","navigator","clipboard","writeText","setTimeout","className","children","dangerouslySetInnerHTML","__html","onClick"],"sources":["C:/Users/alamk/OneDrive/Desktop/Chatbot/chatbot-app/src/components/Message.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ClipboardDocumentIcon, CheckIcon, UserIcon } from '@heroicons/react/24/outline';\r\nimport { ChatBubbleBottomCenterTextIcon } from '@heroicons/react/24/solid';\r\n\r\ninterface MessageProps {\r\n  content: string;\r\n  timestamp: Date;\r\n  isUser: boolean;\r\n}\r\n\r\nconst Message: React.FC<MessageProps> = ({ content, timestamp, isUser }) => {\r\n  const [copied, setCopied] = useState(false);\r\n  \r\n  const messageTime = new Date(timestamp).toLocaleTimeString([], {\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n\r\n  // Format message content with Markdown-like syntax\r\n  const formatContent = (text: string) => {\r\n    // Process code blocks (```code```)\r\n    text = text.replace(/```([\\s\\S]*?)```/g, '<pre class=\"bg-gray-100 dark:bg-dark-600 p-3 rounded-md overflow-x-auto text-sm font-mono my-2 border border-gray-200 dark:border-dark-500\">$1</pre>');\r\n    \r\n    // Process inline code (`code`)\r\n    text = text.replace(/`([^`]+)`/g, '<code class=\"bg-gray-100 dark:bg-dark-600 px-1 rounded font-mono text-sm border-b border-gray-200 dark:border-dark-500\">$1</code>');\r\n    \r\n    // Process bold (**text**)\r\n    text = text.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\r\n    \r\n    // Process italic (*text*)\r\n    text = text.replace(/\\*(.*?)\\*/g, '<em>$1</em>');\r\n    \r\n    // Process URLs\r\n    text = text.replace(\r\n      /(https?:\\/\\/[^\\s]+)/g, \r\n      '<a href=\"$1\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-primary-600 dark:text-primary-400 hover:underline\">$1</a>'\r\n    );\r\n    \r\n    // Process paragraphs\r\n    text = text.split('\\n\\n').map(para => `<p class=\"mb-2\">${para}</p>`).join('');\r\n    \r\n    // Process lists\r\n    text = text.replace(/^- (.*)/gm, '<li class=\"mb-1\">$1</li>');\r\n    text = text.replace(/<li[^>]*>.*?<\\/li>/g, match => `<ul class=\"list-disc list-inside my-2 space-y-1\">${match}</ul>`);\r\n    \r\n    return text;\r\n  };\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(content);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  return (\r\n    <div className={`flex ${isUser ? 'justify-end' : 'justify-start'} mb-6 group animate-fadeIn`}>\r\n      {!isUser && (\r\n        <div className=\"flex-shrink-0 mr-3\">\r\n          <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center shadow-md\">\r\n            <ChatBubbleBottomCenterTextIcon className=\"h-5 w-5 text-white\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <div\r\n        className={`relative rounded-2xl px-5 py-4 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg ${\r\n          isUser \r\n            ? 'bg-gradient-to-r from-secondary-500 to-secondary-600 text-white shadow-lg'\r\n            : 'bg-white dark:bg-dark-800 border border-gray-100 dark:border-dark-700 shadow-lg dark:shadow-dark-900/20'\r\n        }`}\r\n      >\r\n        <div \r\n          className={`prose prose-sm max-w-none ${isUser ? 'prose-invert' : 'dark:prose-invert'}`}\r\n          dangerouslySetInnerHTML={{ __html: formatContent(content) }}\r\n        />\r\n        \r\n        <div className=\"flex items-center justify-between mt-2 text-xs\">\r\n          <span className={`${isUser ? 'text-secondary-200' : 'text-gray-500 dark:text-gray-400'}`}>\r\n            {messageTime}\r\n          </span>\r\n          \r\n          <button\r\n            onClick={handleCopy}\r\n            className=\"opacity-0 group-hover:opacity-100 transition-opacity p-1.5 rounded-full bg-white/10 backdrop-blur-sm hover:bg-white/20\"\r\n            aria-label=\"Copy message\"\r\n          >\r\n            {copied ? (\r\n              <CheckIcon className=\"h-4 w-4 text-green-400\" />\r\n            ) : (\r\n              <ClipboardDocumentIcon className=\"h-4 w-4 text-white/70\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {isUser && (\r\n        <div className=\"flex-shrink-0 ml-3\">\r\n          <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-secondary-400 to-secondary-600 flex items-center justify-center shadow-md\">\r\n            <UserIcon className=\"h-5 w-5 text-white\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}