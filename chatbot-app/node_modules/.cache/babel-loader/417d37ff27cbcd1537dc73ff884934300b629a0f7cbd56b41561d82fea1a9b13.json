{"ast":null,"code":"import React,{useState}from'react';import{ClipboardDocumentIcon,CheckIcon,UserIcon}from'@heroicons/react/24/outline';import{ChatBubbleBottomCenterTextIcon}from'@heroicons/react/24/solid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Message=_ref=>{let{content,timestamp,isUser}=_ref;const[copied,setCopied]=useState(false);const messageTime=new Date(timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});// Format message content with Markdown-like syntax\nconst formatContent=text=>{// Process code blocks (```code```)\ntext=text.replace(/```([\\s\\S]*?)```/g,'<pre class=\"bg-gray-100 dark:bg-dark-600 p-3 rounded-md overflow-x-auto text-sm font-mono my-2\">$1</pre>');// Process inline code (`code`)\ntext=text.replace(/`([^`]+)`/g,'<code class=\"bg-gray-100 dark:bg-dark-600 px-1 rounded font-mono text-sm\">$1</code>');// Process bold (**text**)\ntext=text.replace(/\\*\\*(.*?)\\*\\*/g,'<strong>$1</strong>');// Process italic (*text*)\ntext=text.replace(/\\*(.*?)\\*/g,'<em>$1</em>');// Process URLs\ntext=text.replace(/(https?:\\/\\/[^\\s]+)/g,'<a href=\"$1\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-primary-600 dark:text-primary-400 hover:underline\">$1</a>');// Process paragraphs\ntext=text.split('\\n\\n').map(para=>`<p>${para}</p>`).join('');// Process lists\ntext=text.replace(/^- (.*)/gm,'<li>$1</li>');text=text.replace(/<li>.*?<\\/li>/gs,match=>`<ul class=\"list-disc list-inside my-2\">${match}</ul>`);return text;};const handleCopy=()=>{navigator.clipboard.writeText(content);setCopied(true);setTimeout(()=>setCopied(false),2000);};return/*#__PURE__*/_jsxs(\"div\",{className:`flex ${isUser?'justify-end':'justify-start'} mb-4 group`,children:[!isUser&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center\",children:/*#__PURE__*/_jsx(ChatBubbleBottomCenterTextIcon,{className:\"h-4 w-4 text-primary-500 dark:text-primary-400\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:`relative message ${isUser?'message-user':'message-bot'} shadow-message dark:shadow-message-dark rounded-2xl px-4 py-3 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm prose prose-sm max-w-none dark:prose-invert\",dangerouslySetInnerHTML:{__html:formatContent(content)}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2 text-xs text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:messageTime}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,className:\"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:text-gray-700 dark:hover:text-gray-300\",\"aria-label\":\"Copy message\",children:copied?/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 text-green-500\"}):/*#__PURE__*/_jsx(ClipboardDocumentIcon,{className:\"h-4 w-4\"})})]})]}),isUser&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 ml-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-secondary-100 dark:bg-secondary-900/30 flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserIcon,{className:\"h-4 w-4 text-secondary-500 dark:text-secondary-400\"})})})]});};export default Message;","map":{"version":3,"names":["React","useState","ClipboardDocumentIcon","CheckIcon","UserIcon","ChatBubbleBottomCenterTextIcon","jsx","_jsx","jsxs","_jsxs","Message","_ref","content","timestamp","isUser","copied","setCopied","messageTime","Date","toLocaleTimeString","hour","minute","formatContent","text","replace","split","map","para","join","match","handleCopy","navigator","clipboard","writeText","setTimeout","className","children","dangerouslySetInnerHTML","__html","onClick"],"sources":["C:/Users/alamk/OneDrive/Desktop/Chatbot/chatbot-app/src/components/Message.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ClipboardDocumentIcon, CheckIcon, UserIcon } from '@heroicons/react/24/outline';\r\nimport { ChatBubbleBottomCenterTextIcon } from '@heroicons/react/24/solid';\r\n\r\ninterface MessageProps {\r\n  content: string;\r\n  timestamp: Date;\r\n  isUser: boolean;\r\n}\r\n\r\nconst Message: React.FC<MessageProps> = ({ content, timestamp, isUser }) => {\r\n  const [copied, setCopied] = useState(false);\r\n  \r\n  const messageTime = new Date(timestamp).toLocaleTimeString([], {\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n\r\n  // Format message content with Markdown-like syntax\r\n  const formatContent = (text: string) => {\r\n    // Process code blocks (```code```)\r\n    text = text.replace(/```([\\s\\S]*?)```/g, '<pre class=\"bg-gray-100 dark:bg-dark-600 p-3 rounded-md overflow-x-auto text-sm font-mono my-2\">$1</pre>');\r\n    \r\n    // Process inline code (`code`)\r\n    text = text.replace(/`([^`]+)`/g, '<code class=\"bg-gray-100 dark:bg-dark-600 px-1 rounded font-mono text-sm\">$1</code>');\r\n    \r\n    // Process bold (**text**)\r\n    text = text.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\r\n    \r\n    // Process italic (*text*)\r\n    text = text.replace(/\\*(.*?)\\*/g, '<em>$1</em>');\r\n    \r\n    // Process URLs\r\n    text = text.replace(\r\n      /(https?:\\/\\/[^\\s]+)/g, \r\n      '<a href=\"$1\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-primary-600 dark:text-primary-400 hover:underline\">$1</a>'\r\n    );\r\n    \r\n    // Process paragraphs\r\n    text = text.split('\\n\\n').map(para => `<p>${para}</p>`).join('');\r\n    \r\n    // Process lists\r\n    text = text.replace(/^- (.*)/gm, '<li>$1</li>');\r\n    text = text.replace(/<li>.*?<\\/li>/gs, match => `<ul class=\"list-disc list-inside my-2\">${match}</ul>`);\r\n    \r\n    return text;\r\n  };\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(content);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  return (\r\n    <div className={`flex ${isUser ? 'justify-end' : 'justify-start'} mb-4 group`}>\r\n      {!isUser && (\r\n        <div className=\"flex-shrink-0 mr-2\">\r\n          <div className=\"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center\">\r\n            <ChatBubbleBottomCenterTextIcon className=\"h-4 w-4 text-primary-500 dark:text-primary-400\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <div\r\n        className={`relative message ${\r\n          isUser \r\n            ? 'message-user' \r\n            : 'message-bot'\r\n        } shadow-message dark:shadow-message-dark rounded-2xl px-4 py-3 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg`}\r\n      >\r\n        <div \r\n          className=\"text-sm prose prose-sm max-w-none dark:prose-invert\"\r\n          dangerouslySetInnerHTML={{ __html: formatContent(content) }}\r\n        />\r\n        \r\n        <div className=\"flex items-center justify-between mt-2 text-xs text-gray-500 dark:text-gray-400\">\r\n          <span>{messageTime}</span>\r\n          \r\n          <button\r\n            onClick={handleCopy}\r\n            className=\"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:text-gray-700 dark:hover:text-gray-300\"\r\n            aria-label=\"Copy message\"\r\n          >\r\n            {copied ? (\r\n              <CheckIcon className=\"h-4 w-4 text-green-500\" />\r\n            ) : (\r\n              <ClipboardDocumentIcon className=\"h-4 w-4\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {isUser && (\r\n        <div className=\"flex-shrink-0 ml-2\">\r\n          <div className=\"w-8 h-8 rounded-full bg-secondary-100 dark:bg-secondary-900/30 flex items-center justify-center\">\r\n            <UserIcon className=\"h-4 w-4 text-secondary-500 dark:text-secondary-400\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}